# xss란?
---
- 게시판이나 메일 등에 스크립트 구문을 추가해 개발자가 고려하지 않은 기능을 하게 함으로서 클라이언트를 공격하는 기법이다.
- 웹 해킹 기법 중 하나이다.
- Cross Site Scripting 의 약자로 CSS이지만 CSS가 이미 존재하기 때문에 XSS 로 말한다.

XSS 공격은 크게 3 가지로 분류할 수 있다.
1. Reflected XSS
<img src="https://t1.daumcdn.net/cfile/tistory/240BE14B58C4E0060D" />
<img src="https://t1.daumcdn.net/cfile/tistory/25533D4B58C4E00512" />
공격자는 스크립트가 들어간 URL 을 사용자에게 노출한다. 만약 사용자가 URL 을 눌렀다면 스크립트를 실행하여 서버에 Request를 보내고 그에 해당하는 Response를 받는다.
2. Stroed XSS
<img src="https://t1.daumcdn.net/cfile/tistory/22662A4B58C4E00705" />
이 공격 방법은 공격을 위한 스크립트를 포함한 게시글을 웹 사이트에 업로드한다. 사용자가 게시글을 클릭했을 시 Request 를 보내고 서버에서 Response 를 전송하여 공격이 진행된다.
3. DOM Based XSS

### XSS의 위험성
---
__1. 쿠키 정보 및 세션 ID 획득__

공격자는 XSS를 이용하여 사용자의 쿠키 정보나 세션 ID를 획득할 수 있다.

__2. 시스템 관리자 권한 획득__

회사 등 조직의 개인 PC가 해킹되었을 경우, 조직 내부로 악성 코드가 이동해 내부의 중요한 정보가 탈취될 수 있다.

__3. 악성코드 다운로드__

XSS 공격은 스크립트 자체로 악성코드를 다운로드할 수는 없다.
그러나, 악성 스크립트가 있는 URL 로 이동시켜 다운받도록 유도할 수 있다. 

__4. 거짓 페이지 노출__

스크립트 태그 뿐만 아니라 이미지 태그를 사용해 원래 페이지와는 완전히 다른 페이지를 노출할 수 있다. 이를 이용해 악성코드를 다운로드하게 하는 공격 방법이 있다.

### XSS 방지법
---
__1. script 문자 필터링__

XSS 공격은 입력값에 대한 인증이 제대로 이루어지지 않아 발생한다.
때문에 사용자의 모든 입력값을 서버에서 필터링 해주어야 한다.
주로 스크립트를 사용하기 때문에 특수문자 <, >, ", ' 등의 문자를 필터링한다.

__2. htmlentities 사용__

html의 모든 특수문자를  HTML 엔티티로 변경시킨다.

###### ※ HTML 엔티티는 "&약어;" 및 "&#숫자;"의 형태를 표현하는 것을 의미한다. 예를 들어 <는 &lt;로, >는 &gt;로 표현한다. #####