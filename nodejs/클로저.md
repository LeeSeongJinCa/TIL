# 클로저(Closure)
---

일반적으로 외부 함수가 끝나고 외부 함수가 소멸되면 내부 함수는 외부 함수에 접근할 수 없습니다. 하지만 __"외부 함수의 실행이 끝나고 외부 함수가 소멸된 이후에도 내부 함수가 외부 함수의 변수에 접근할 수 있는 구조"__ 를 __클로저__ 라고 합니다.

클로저는 함수를 호출하고 종료되면 변수가 메모리에 헤제되기 때문에 다시 함수를 호출하면 변수가 초기화가 됩니다. 하지만 클로저를 이용하면 이전에 쓰던 값을 유지할 수 있습니다.

``` javascript
let num = 1;

function foo() {
    let num = 2;

    function bar() {
        console.log(num);
    }
    return bar;
}
let baz = foo();
baz();
> 2
```
여기서 의문이 생길 수 있습니다.
__"분명 num 변수는 외부 함수에서 선언했기 때문에 foo() 함수가 끝났는데 어떻게 참조한거지?"__ 

이를 바로 __클로저__ 라고 말합니다.

또다른 장점은 바로 내부 함수에서 외부 함수의 변수를 참조하지만 그 변수가 내부 함수에 선언되어 있지 않기 때문에 노출시키지 않아 안정성을 보장해줍니다. 이것은 __캡슐화__ 와도 관련이 있습니다. 클로저를 통해서만 외부 변수를 참조할 수 있기 때문에 사용자가 값을 변경할 수 없습니다.

하지만 클로저는 참조하는 변수가 프로그램이 종료될 때까지 계속 메모리에 할당되어 있기 때문에, 메모리 누수로 인해 성능이 저하될 수 있습니다.